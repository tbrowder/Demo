#!/usr/bin/env raku

use Demo;

my $f1 = "resources/file1";
my $f2 = "resources/file2";
my $f3 = "resources/../lib/Demo.rakumod";
my $f4 = "resources/../t/01-basic.rakutest";
my $s;

my $nlines;
if not @*ARGS {
    print qq:to/HERE/;
    Usage: {$*PROGRAM.basename} <number of lines [min 2] > | all

    Shows the contents of the distribution's files.   
    HERE
    exit;
}

my $arg = @*ARGS.shift;
$nlines = $arg ~~ /^\d+$/ ?? $arg !! 0;
++$nlines if $nlines == 1

for $f1, $f2, $f3, $f4 -> $f {
    my $s = get-content $f, :$nlines;
    unless $s {
        say "  File '$f' is not accessible.";
        next;
    }
   
    say "  line $k: $v" for $s.lines.kv;
    say();
}

